20260127 - Fixed oversized logo in sidebar by updating Tailwind config to scan shared UI package source files. Updated Dockerfiles to copy UI package into build context.
20260127 - Fixed login loop bug (withCredentials missing in identity frontend). Added passwordless login with email code for @expertly.com/@webintensive.com domains, password change, forgot password, and password strength validation. Visually verified all flows.
20260127 - Added DEPLOY_COLOR variable to all Traefik labels for blue/green deployment isolation. This ensures unique router names (e.g., ui-blue, ui-green) to prevent routing conflicts when both colors are running during deployment transitions.
20260127 - Removed stale /opt/traefik/dynamic/apps.yaml file that was routing vibetest to old qa container name.
20260127 - Added Gmail SMTP support for identity email sending. Added aiosmtplib, SMTP config settings, and environment variables in docker-compose.prod.yml. Falls back to logging if SMTP not configured.
20260127 - Switched from SMTP to Resend API for email (DO blocks SMTP ports). Pending domain verification for expertly.com - emails will work once DNS records propagate.
20260127 - Identity: Split Users & Bots into separate sidebar items, added user display and org switcher. Manage: Added View As User/Team switcher, moved Active Tasks above Queues, added queue filter tabs and table columns.
20260127 - Implement Playbooks Expansion: Added PlaybookStep model with AssigneeType enum, updated Playbook/PlaybookCreate/PlaybookUpdate to include steps, added circular reference validation in API, created full-page step editor UI with collapsible cards, reordering, markdown preview, assignee/approver options, and queue overrides.
20260127 - Fixed Manage Playbooks not working: VITE_API_URL had trailing /api causing double /api/api/v1 path. Changed to use nginx proxy (empty VITE_API_URL) for same-origin requests. Also fixed Identity default user to have is_default=true and role=owner.
20260127 - Fixed container crash issue caused by competing Docker Compose project names. Removed duplicate expertly-develop-* containers that conflicted with the blue-green deployment (expertly-green-* containers). Updated CLAUDE.md with correct manual docker commands that use COMPOSE_PROJECT_NAME.
