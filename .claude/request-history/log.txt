20260127 - Fixed oversized logo in sidebar by updating Tailwind config to scan shared UI package source files. Updated Dockerfiles to copy UI package into build context.
20260127 - Fixed login loop bug (withCredentials missing in identity frontend). Added passwordless login with email code for @expertly.com/@webintensive.com domains, password change, forgot password, and password strength validation. Visually verified all flows.
20260127 - Added DEPLOY_COLOR variable to all Traefik labels for blue/green deployment isolation. This ensures unique router names (e.g., ui-blue, ui-green) to prevent routing conflicts when both colors are running during deployment transitions.
20260127 - Removed stale /opt/traefik/dynamic/apps.yaml file that was routing vibetest to old qa container name.
20260127 - Added Gmail SMTP support for identity email sending. Added aiosmtplib, SMTP config settings, and environment variables in docker-compose.prod.yml. Falls back to logging if SMTP not configured.
20260127 - Switched from SMTP to Resend API for email (DO blocks SMTP ports). Pending domain verification for expertly.com - emails will work once DNS records propagate.
20260127 - Identity: Split Users & Bots into separate sidebar items, added user display and org switcher. Manage: Added View As User/Team switcher, moved Active Tasks above Queues, added queue filter tabs and table columns.
20260127 - Implement Playbooks Expansion: Added PlaybookStep model with AssigneeType enum, updated Playbook/PlaybookCreate/PlaybookUpdate to include steps, added circular reference validation in API, created full-page step editor UI with collapsible cards, reordering, markdown preview, assignee/approver options, and queue overrides.
20260127 - Fixed Manage Playbooks not working: VITE_API_URL had trailing /api causing double /api/api/v1 path. Changed to use nginx proxy (empty VITE_API_URL) for same-origin requests. Also fixed Identity default user to have is_default=true and role=owner.
20260127 - Fixed container crash issue caused by competing Docker Compose project names. Removed duplicate expertly-develop-* containers that conflicted with the blue-green deployment (expertly-green-* containers). Updated CLAUDE.md with correct manual docker commands that use COMPOSE_PROJECT_NAME.
20260128 Unified sidebar user display across all 9 Expertly subprojects by creating a shared useCurrentUser hook in packages/ui and updating all apps to use it consistently. Fixed issues where Manage wasn't showing user, Salon showed salon name instead of user name, and Today showed hardcoded 'Claude'.
20260128 - Added instance tracking fields (instance_count, last_instance_created_at) to Playbook model for tracking playbook instantiation. Fields added to backend model, API serialization, and frontend types. Not displayed in list view as requested.
20260128 - Added Wins page to Expertly Manage for celebrating completed tasks. Shows accomplishments for today/week/month with grouping by person or queue. Includes Trophy icon in sidebar navigation.
20260129 - Fixed Expertly Manage sidebar alphabetization (Projects/Playbooks swap) and added 'id' field to project serialization. PR #71 merged.
20260129 - Added Project Detail page to Expertly Manage with tabbed interface (Tasks/Completed/Recurring). Added project_id field to RecurringTask model/API. Created enhanced task creation modal with playbook typeahead, flexible assignment options (queue/team/user), and make-recurring toggle. Made project names clickable links.
20260129 - Implemented UserMenu restructuring + Backlog feature. Updated UserMenu to support expandable submenu type, removed chevron from simple links. Created Developer Tools submenu with Error Logs, Change Log, Backlog, Idea Backlog. Created BacklogItem backend model with CRUD API. Created Backlog and IdeaBacklog pages in Manage frontend with filters and modals.
20260129 - Fixed nginx caching causing stale HTML after deployments. Root cause: nginx `expires -1` directive adds `Cache-Control: no-cache` AND we added another header, resulting in duplicate headers that confused browsers. Fix: Removed `expires -1` and use explicit headers only. Also added proper no-cache headers to apps that were missing them (identity, salon, develop).
20250129 - Fix: Expertly Define artifact upload 'Product not found' error caused by blue-green deployment using separate SQLite databases
20250129 - Fix: Added ANTHROPIC_API_KEY to server .env for Expertly Define AI import feature
20250129 - Fix: Changed AI model from invalid 'claude-sonnet-4-20250514' to 'claude-3-5-sonnet-latest'
20260129 - Fixed Connections page to always show Add Connection button with all providers (Google, Slack). Unconfigured providers now show setup instructions instead of being hidden. Added Slack OAuth support.
20260130 - Expertly Define products not showing - Database data loss (3rd time)
- Root cause: Migration commit (9a728ba) converted Define from SQLite to PostgreSQL
- SQLite data in container volume was not migrated to managed PostgreSQL
- Product restored from shared_define_data volume
- 1 product recovered: Expertly Reply (4131c1b9-3d2b-42f0-841f-0701ebb76e17)

20260130 - Changelog page is blank at /changelog on manage.ai.devintensive.com and likely other Expertly apps. Need to implement changelog pages showing release history. The UserMenu links to /changelog but no page/route exists.
20260130 Implemented comprehensive Task & Project enhancements for Expertly Manage per plan (PR #133 merged). Backend: TaskAttachment/TaskComment models, approver fields, API endpoints. Frontend: TaskDetailModal, MarkdownEditor, FileUploadZone, ApproverSelector, Breadcrumbs, ProjectTypeahead, expand/collapse on Projects, queue name resolution on Dashboard, org selector moved to sidebar bottom.
20260130 - Manage backend crashing with ModuleNotFoundError: aiofiles. Added aiofiles to requirements.txt.
20260130 - Sidebar UI improvements across all apps: (a) Centralized organization switcher in UserMenu - clicking username now shows org dropdown, (b) Improved UserMenu visual distinction with stronger borders/shadows, (c) Alphabetized Developer Tools menu, (d) Added Test Scenarios page to admin app and menu link
